# Microtask Local Database (MySQL on localhost)
spring.datasource.url=jdbc:mysql://localhost:3306/microtask_tool?serverTimezone=UTC&useLegacyDatetimeCode=false&cachePrepStmts=true&useServerPrepStmts=true&rewriteBatchedStatements=true
spring.datasource.username=microtask_admin
spring.datasource.password=MicroTask2025SecurePass

# Hibernate Properties
# The SQL dialect makes Hibernate generate better SQL for the chosen database
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect
spring.jpa.properties.hibernate.jdbc.batch_size=500
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false
spring.data.jpa.repositories.bootstrap-mode=lazy

# Hibernate ddl auto (validate for production - database already exists)
spring.jpa.hibernate.ddl-auto=validate

# Flyway Database Migration Configuration
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-version=1
spring.flyway.out-of-order=false

# Server Configuration
server.port=8080
server.ssl.enabled=false

# Error handling
server.error.include-binding-errors=always
server.error.include-message=always

# File upload
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=40MB

# OAuth Configuration
google.client.id=34768107959-ad0p0iecdct89f4m401vsq4jo9u4afl5.apps.googleusercontent.com
google.client.secret=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

# DPW Integration Configuration
dpw.api.base-url=https://app.spatialcollective.com
dpw.api.keys=dpw_prod_microtask_2025_key1,dpw_stage_microtask_2025_key2
dpw.webhook.secret=dpw_webhook_secret_2025

# Consensus Configuration
consensus.default-threshold=60.0
consensus.minimum-responses=3

# Payment Configuration
payment.base-pay=760.00
payment.bonus.excellent=0.30
payment.bonus.good=0.20
payment.bonus.fair=0.10

# Quality Thresholds
quality.consensus.excellent=90.0
quality.consensus.good=80.0
quality.consensus.fair=70.0
quality.flag.low-consensus-days=3
quality.flag.speed-threshold=0.5

# Alert Configuration
alert.recipients.emails=admin@spatialcollective.com,support@spatialcollective.com,tech@spatialcollective.com
alert.recipients.sms=+254700000000
alert.thresholds.cpu.warning=70
alert.thresholds.cpu.critical=90
alert.thresholds.memory.warning=80
alert.thresholds.memory.critical=95
alert.thresholds.disk.warning=75
alert.thresholds.disk.critical=90

# Health Monitoring
health.check.interval=300000
health.retention.days=90

# Scheduled Jobs Configuration
scheduler.enabled=true
scheduler.consensus.cron=0 0 22 * * *
scheduler.performance.cron=0 0 23 * * *
scheduler.quality.cron=0 30 23 * * *
scheduler.health.cron=0 */5 * * * *

# Logging Configuration
logging.level.com.spatialcollective.microtasktoolapi=INFO
logging.level.org.springframework.web=INFO
logging.level.org.hibernate=WARN

# Mail Configuration (for alerts)
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=alerts@spatialcollective.com
spring.mail.password=your_email_password_here
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
